#+HTML_HEAD: <link rel="stylesheet" href="./assets/css/tufte.css" type="text/css" />
#+HTML_HEAD: <link rel="stylesheet" href="./assets/css/ox-tufte.css" type="text/css" />
#+HTML_HEAD: <style>.figure-number { display: none; }</style>
#+TITLE: Oportunidados M1

* Meu primeiro m√™s *full time* na Oportunidados

Desde o come√ßo de mar√ßo eu estou me dedicando integralmente √† [[https://oportunidados.com.br][Oportunidados]].

Completando o primeiro m√™s, me parece um momento decente - conquanto precipitado - para se fazer um balan√ßo dos meus esfor√ßos iniciais e refletir se estou no rumo certo.

Por raz√µes que ficar√£o claras no decorrer desta reda√ß√£o, sinto-me meio idiota de gastar meu tempo escrevendo-a, mas o que segue s√£o coisas que est√£o ocupando uma parte consider√°vel da minha banda mental. Assentar as ideias em um texto pode ser o ant√≠doto para continuar os trabalhos com a mente mais leve. call_marginnote("... ponto no qual tanto o [[https://paulgraham.com/essay.html][PG]] quanto o [[https://www.gutenberg.org/ebooks/3600][Montaigne]] concordariam comigo, ou n√£o ...")

** Onde eu mirei

A ambi√ß√£o era subir a infra de cloud no GCP praticamente por completo. Isso incluiria:
  - Migrar o app de produ√ß√£o, atualmente hospedado no Heroku
  - Migrar nossa Postgres de produ√ß√£o para uma inst√¢ncia do Cloud SQL
  - Migrar nossa ClickHouse de produ√ß√£o para um servi√ßo dedicado do CH-Cloud no GCP
  - Subir uma VM dedicada (juntamente com servi√ßos auxiliares tipo Cloud Storage) para uso de nossas futuras bases de staging
  - Iniciar o estabelecimento de nossas rotinas de ETL dentro de um paradigma mais parecido com o /modern data stack/
... e nos permitiria desligar o Heroku de staging e produ√ß√£o, al√©m de todos os servi√ßos do Yandex, consolidando nossos gastos com infra-estrutura de computa√ß√£o em nuvem apenas no GCP (al√©m de baratear os mesmos).

Fora isso, a inten√ß√£o era /fazer alguma coisa/ para ganhar alguma "casca" com o universo do GCP e aprender a navegar seus diversos componentes, pavimentando o caminho tanto para o estabelecimento do futuro /data stack/ quanto para solidificar nosso stack de CD/CI no Google, talvez at√© movendo os review apps do Heroku para o GCP usando o Cloud Deploy.

Al√©m de todos os pontos acima, eu tinha +o del√≠rio+ a ambi√ß√£o de revisar o "curso" de data stack do [[https://www.kahandatasolutions.com/][Kahan]] e ir lendo o [[https://www.oreilly.com/library/view/designing-data-intensive-applications/9781491903063/][Designing Data Intensive Applications]] concomitantemente com minhas atividades. Tipo, aquela leitura matinal pra deixar o caboclo afiado para o dia em frente. call_marginnote("/sucrilhos for the mind, if you will/")

Lendo isso agora realmente fica claro que meu n√≠vel de alucina√ß√£o e ingenuidade era grande h√° quatro semanas. Nada como uma saud√°vel ignor√¢ncia para irmos em frente.

#+ATTR_HTML: :style display:grid;place-items:center;
#+begin_figure
[[../assets/images/b01_motivacao.png]]
#+end_figure

** Aonde cheguei

Bom, ao menos o objetivo de ganhar casca foi atingido...

#+ATTR_HTML: :style display:grid;place-items:center;
#+begin_figure
#+ATTR_HTML: :style display:flex;margin:0 auto; :width 80%
[[../assets/images/b01_dor_sofrimento.png]]
#+end_figure

Brincadeiras √† parte, at√© que n√£o foi de todo mal. Eu aprendi /muita coisa/ sobre GCP - embora a documenta√ß√£o seja em geral meio confusa e espalhada, tornando juntar as pe√ßas do grande quebra-cabe√ßa um tanto desafiador. E tamb√©m obtive alguns resultados tang√≠veis. Nosso app de produ√ß√£o est√° prontinho para rodar na nova infra [fn:1], assim como a base de l√≥gica de neg√≥cios.

Ficou faltando a migra√ß√£o do /ClickHouse/, a VM de staging e √© claro o ETL, mas agora estou feliz que fui em frente com a estrat√©gia de "fazer alguma coisa". Certamente o caminho ficou mais claro, se n√£o mais f√°cil [fn:2], para encarar a tarefa que tanto quero atacar h√° mais de 6 meses - montar nosso /data stack/ ü§ì.

E como talvez era de se esperar, uma atividade como "migrar o app de produ√ß√£o" n√£o √© algo que se faz em dois palitos. No caminho, acabei aprendendo:
  - montar uma zona de destino e hierarquia de recursos no GCP;
  - como mexer no Cloud Build e integr√°-lo com nosso sistema;
  - uma porrada de coisas sobre nosso build containerizado;
  - a usar o [[https://playwright.dev/][Playwright]] - montando uma suite de testes end-2-end que pode ser separada do app principal e servir para v√°rios outros prop√≥sitos no futuro;
  - como integrar o CloudSQL com outras funcionalidades severless ou integradas no VPC do GCP

Fora isso, imprimi algum /momentum/ em atividades de desenvolvimento paralelas como nossa ferramenta de pontua√ß√£o de localiza√ß√µes para franquias (bastante aprendizado aqui tamb√©m), subi uma nova VM no yandex para responder √† uma iminente parada de servi√ßo na regi√£o que t√≠nhamos nossa antiga (quebrando nossas /functions/ de marketing no caminho üòÖ), al√©m de ajudar com uma ou outra coisa tipo criar modelos de propostas ou entender porque o Google Bot estava engasgando nossa base ao listar os sitemaps.

** Isso √© suficiente?

Tendo como meta (arbitr√°ria) ter uma empresa vi√°vel em 18 meses, √© bom considerar se isso ainda √© real√≠stico. Afinal, se realmente o for, √© para que cada novo m√™s traga subst√¢ncia para confirmar essa suspeita. Ainda √© muito cedo para vaticinar, mas me ocorreu a seguinte forma - tosca, mas melhor que nada - de avaliar as coisas.

Se eu multiplicar os resultados obtidos este m√™s por 18, seria o suficiente para construir o tech stack e evoluir nosso produto ao n√≠vel necess√°rio para atingir o sucesso almejado?

Como ainda √© tudo muito incerto, n√£o acho produtivo entrar no m√©rito detalhado do que √© exatamente "ser vi√°vel", qual √© a linha de corte de "sucesso", quais s√£o as funcionalidades necess√°rias para o produto e os consequentes requisitos t√©cnicos que nos levar√£o at√© l√° (ningu√©m sabe ainda).

Mas j√° d√° pra ter uma ideia do que √© multiplicar o atingido no par√°grafo acima por 18. Embora n√£o seja pouca coisa, parece-me insuficiente para atingir nossas ambi√ß√µes - eu estaria mais tranquilo se o fator fosse 30 ou 50. Choro, desespero, frustra√ß√£o? N√£o. H√° raz√µes para sermos otimistas e uma delas √© a oitava maravilha do mundo: os juros compostos.

Muitas das atividades t√©cnicas, quando realizadas com alguma estrat√©gia, s√£o como instalar polias. Voc√™ se d√° ao trabalho uma vez, mas dali pra frente, consegue mover cargas maiores com muito menos esfor√ßo - este √© o caso do Cloud Build e do setup da infra estrutura, por exemplo. Agora podemos realizar testes A/B s√≥ dando deploy de duas vers√µes e re-direcionando o tr√°fego. Em outras, voc√™ consegue criar as condi√ß√µes para "multiplicar o trabalho", como no caso dos testes e2e realizados separadamente da nossa base - e que agora podem ser completados por outras pessoas mais pra frente.

#+begin_marginnote
#+CAPTION: Cloud Build / Cloud Run - circa 1100AD.
[[file:../assets/images/b01_polias.png]]
#+end_marginnote

Obviamente n√£o se trata de uma ci√™ncia exata aqui, mas estaria disposto a entreter a id√©ia de que m√™s que vem conseguirei realizar ao menos 10% a mais do que neste mar√ßo, e tomando sempre o cuidado de trabalhar em coisas que se comp√µe, manter essa taxa. Claro, haver√° meses de reveses, haver√° necessidade de embarcar em iniciativas que n√£o se compor√£o por motivos de for√ßa maior. Mas se ao menos essa taxa for de 6% m√©dios, [[https://en.wikipedia.org/wiki/Geometric_series#Sum][minhas contas]] dizem que o fator de 30 est√° ao meu alcance. Se eu ficar bom nisso, talvez at√© o de 50.

** Aprendizados

Nada que presta √© f√°cil. √â saud√°vel aproximar-se do trabalho em frente com humildade e respeito, mas acima de tudo estrat√©gia. Cada minuto gasto [fn:3] deve, se poss√≠vel, ser dedicado a algo que se multiplicar√° ou alavancar√° nosso poder t√©cnico, s√≥ assim poderemos responder √† altura dos desafios que se imp√µem.

Claro, nem tudo √© crescimento exponencial nessa vida. √â ainda importante para n√≥s fazermos [[https://paulgraham.com/ds.html][coisas que n√£o escalam]] e entender nosso market fit muito bem, evitando otimiza√ß√µes precoces, mas n√£o d√° pra se dar ao luxo de produzir apenas linearmente.

Temos um novo data stack, um novo ambiente de CD/CI, integra√ß√£o de servi√ßos auxiliares e muitas bases de dados para adicionar em nossa infra estrutura, al√©m de muitos outros produtos para lan√ßar. Eu ainda tenho confian√ßa de que isto est√° em nosso alcance com uma equipe enxuta dentro de poucos meses.

Mas vou precisar contar com os juros compostos para chegar l√°. Veremos.

Avante. üöÄ

[fn:1] com os testes e2e!
[fn:2] nada √© f√°cil
[fn:3] exceto com essa reda√ß√£o

# call_marginnote("Nota.")

